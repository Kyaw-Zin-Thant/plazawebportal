"use strict";(self.webpackChunkmyplazawebdevelopment=self.webpackChunkmyplazawebdevelopment||[]).push([[559],{7559:(le,P,r)=>{r.r(P),r.d(P,{CategoryModule:()=>re});var u=r(1048),K=r(8834),t=r(9724),B=r(2508),X=r(366),tt=r(7280);let et=(()=>{class o{constructor(e){this._service=e,this.resultsLength=0,this.displayedColumns=["name","action"],this.displayedLabel=["Name","Action"],this.dataSource=new K.by(this.category),this.tableAction={isDelete:!0,isEdit:!0,isView:!0}}ngOnInit(){this.getCategoryList()}getCategoryList(){this.sub=this._service.getCategoryList({sortDirection:"desc",limit:10,page:1,sortColumn:"name"}).subscribe(n=>{console.log(n),this.resultsLength=n.totalCount,this.dataSource.data=n.categories})}ngOnDestroy(){var e;null===(e=this.sub)||void 0===e||e.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(B.m))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-category"]],decls:2,vars:5,consts:[[3,"displayedColumns","displayedLabel","dataSource","resultsLength","tableAction"]],template:function(e,n){1&e&&(t._UZ(0,"app-manage-custom-header"),t._UZ(1,"data-table",0)),2&e&&(t.xp6(1),t.Q6J("displayedColumns",n.displayedColumns)("displayedLabel",n.displayedLabel)("dataSource",n.dataSource)("resultsLength",n.resultsLength)("tableAction",n.tableAction))},directives:[X.C,tt.Q],styles:[""]}),o})();var I=r(8413),D=r(5523),nt=r(6329),Z=r(8904),x=r(4848),v=r(3472),A=r(403),_=r(389),b=r(1531),N=r(497),C=r(8023),ot=r(3072),H=r(4945),M=r(4970),T=r(5598),V=r(1927),L=r(6344),d=r(2019),O=r(7188),p=r(4482),it=r(1278);function at(o,i){}class F{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const st={dialogContainer:(0,d.X$)("dialogContainer",[(0,d.SB)("void, exit",(0,d.oB)({opacity:0,transform:"scale(0.7)"})),(0,d.SB)("enter",(0,d.oB)({transform:"none"})),(0,d.eR)("* => enter",(0,d.ru)([(0,d.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,d.oB)({transform:"none",opacity:1})),(0,d.IO)("@*",(0,d.pV)(),{optional:!0})])),(0,d.eR)("* => void, * => exit",(0,d.ru)([(0,d.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,d.oB)({opacity:0})),(0,d.IO)("@*",(0,d.pV)(),{optional:!0})]))])};let rt=(()=>{class o extends _.en{constructor(e,n,a,s,l,g,m,h){super(),this._elementRef=e,this._focusTrapFactory=n,this._changeDetectorRef=a,this._config=l,this._interactivityChecker=g,this._ngZone=m,this._focusMonitor=h,this._animationStateChanged=new t.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=y=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(y)),this._ariaLabelledBy=l.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,L.ht)())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const a=()=>{e.removeEventListener("blur",a),e.removeEventListener("mousedown",a),e.removeAttribute("tabindex")};e.addEventListener("blur",a),e.addEventListener("mousedown",a)})),e.focus(n)}_focusByCssSelector(e,n){let a=this._elementRef.nativeElement.querySelector(e);a&&this._forceFocus(a,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const n=(0,L.ht)(),a=this._elementRef.nativeElement;(!n||n===this._document.body||n===a||a.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=(0,L.ht)();return e===n||e.contains(n)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(O.qV),t.Y36(t.sBO),t.Y36(u.K0,8),t.Y36(F),t.Y36(O.ic),t.Y36(t.R0b),t.Y36(O.tE))},o.\u0275dir=t.lG2({type:o,viewQuery:function(e,n){if(1&e&&t.Gf(_.Pl,7),2&e){let a;t.iGM(a=t.CRH())&&(n._portalOutlet=a.first)}},features:[t.qOj]}),o})(),lt=(()=>{class o extends rt{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:n}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}_onAnimationStart({toState:e,totalTime:n}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:n}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:n})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return o.\u0275fac=function(){let i;return function(n){return(i||(i=t.n5z(o)))(n||o)}}(),o.\u0275cmp=t.Xpm({type:o,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,n){1&e&&t.WFA("@dialogContainer.start",function(s){return n._onAnimationStart(s)})("@dialogContainer.done",function(s){return n._onAnimationDone(s)}),2&e&&(t.Ikx("id",n._id),t.uIk("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),t.d8E("@dialogContainer",n._state))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&t.YNc(0,at,0,0,"ng-template",0)},directives:[_.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[st.dialogContainer]}}),o})(),ct=0;class ht{constructor(i,e,n="mat-dialog-"+ct++){this._overlayRef=i,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new C.x,this._afterClosed=new C.x,this._beforeClosed=new C.x,this._state=0,e._id=n,e._animationStateChanged.pipe((0,M.h)(a=>"opened"===a.state),(0,T.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,M.h)(a=>"closed"===a.state),(0,T.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe((0,M.h)(a=>a.keyCode===p.hY&&!this.disableClose&&!(0,p.Vb)(a))).subscribe(a=>{a.preventDefault(),Y(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Y(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe((0,M.h)(e=>"closing"===e.state),(0,T.q)(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let e=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",e=""){return this._overlayRef.updateSize({width:i,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Y(o,i,e){return void 0!==o._containerInstance&&(o._containerInstance._closeInteractionType=i),o.close(e)}const dt=new t.OlP("MatDialogData"),gt=new t.OlP("mat-dialog-default-options"),Q=new t.OlP("mat-dialog-scroll-strategy"),pt={provide:Q,deps:[A.aV],useFactory:function ut(o){return()=>o.scrollStrategies.block()}};let mt=(()=>{class o{constructor(e,n,a,s,l,g,m,h,y,be){this._overlay=e,this._injector=n,this._defaultOptions=a,this._parentDialog=s,this._overlayContainer=l,this._dialogRefConstructor=m,this._dialogContainerType=h,this._dialogDataToken=y,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new C.x,this._afterOpenedAtThisLevel=new C.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,ot.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,V.O)(void 0))),this._scrollStrategy=g}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,n){n=function ft(o,i){return Object.assign(Object.assign({},i),o)}(n,this._defaultOptions||new F),n.id&&this.getDialogById(n.id);const a=this._createOverlay(n),s=this._attachDialogContainer(a,n),l=this._attachDialogContent(e,s,a,n);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.afterClosed().subscribe(()=>this._removeOpenDialog(l)),this.afterOpened.next(l),s._initializeWithAttachedContent(),l}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const n=this._getOverlayConfig(e);return this._overlay.create(n)}_getOverlayConfig(e){const n=new A.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachDialogContainer(e,n){const s=t.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:F,useValue:n}]}),l=new _.C5(this._dialogContainerType,n.viewContainerRef,s,n.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,n,a,s){const l=new this._dialogRefConstructor(a,n,s.id);if(e instanceof t.Rgc)n.attachTemplatePortal(new _.UE(e,null,{$implicit:s.data,dialogRef:l}));else{const g=this._createInjector(s,l,n),m=n.attachComponentPortal(new _.C5(e,s.viewContainerRef,g,s.componentFactoryResolver));l.componentInstance=m.instance}return l.updateSize(s.width,s.height).updatePosition(s.position),l}_createInjector(e,n,a){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,l=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:n}];return e.direction&&(!s||!s.get(N.Is,null,t.XFs.Optional))&&l.push({provide:N.Is,useValue:{value:e.direction,change:(0,H.of)()}}),t.zs3.create({parent:s||this._injector,providers:l})}_removeOpenDialog(e){const n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,s)=>{a?s.setAttribute("aria-hidden",a):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let a=n.length-1;a>-1;a--){let s=n[a];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}}return o.\u0275fac=function(e){t.$Z()},o.\u0275dir=t.lG2({type:o}),o})(),J=(()=>{class o extends mt{constructor(e,n,a,s,l,g,m,h){super(e,n,s,g,m,l,ht,lt,dt,h)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(A.aV),t.LFG(t.zs3),t.LFG(u.Ye,8),t.LFG(gt,8),t.LFG(Q),t.LFG(o,12),t.LFG(A.Xj),t.LFG(it.Qb,8))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),_t=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[J,pt],imports:[[A.U8,_.eL,b.BQ],b.BQ]}),o})();var k=r(1450),c=r(1659),S=r(5691),Ct=r(4121),yt=r(5696),bt=r(1528),E=r(7969),xt=r(8982),f=r(3528),vt=r(8168),At=r(6716),q=r(6088),U=r(4039),j=r(6146);const Mt=["searchSelectInput"],Tt=["innerSelectSearch"];function St(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-checkbox",9),t.NdJ("change",function(a){return t.CHM(e),t.oxw()._emitSelectAllBooleanToParent(a.checked)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("color",null==e.matFormField?null:e.matFormField.color)("checked",e.toggleAllCheckboxChecked)("indeterminate",e.toggleAllCheckboxIndeterminate)("matTooltip",e.toggleAllCheckboxTooltipMessage)("matTooltipPosition",e.toogleAllCheckboxTooltipPosition)}}function Dt(o,i){1&o&&t._UZ(0,"mat-spinner",10)}function Ot(o,i){1&o&&t.Hsn(0,1,["*ngIf","clearIcon; else defaultIcon"])}function wt(o,i){if(1&o&&(t.TgZ(0,"mat-icon",14),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("svgIcon",e.closeSvgIcon),t.xp6(1),t.hij(" ",e.closeSvgIcon?null:e.closeIcon," ")}}function It(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw()._reset(!0)}),t.YNc(1,Ot,1,0,"ng-content",12),t.YNc(2,wt,2,2,"ng-template",null,13,t.W1O),t.qZA()}if(2&o){const e=t.MAs(3),n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.clearIcon)("ngIfElse",e)}}function Zt(o,i){if(1&o&&(t.TgZ(0,"div",15),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.noEntriesFoundLabel,"\n")}}const Lt=[[["",8,"mat-select-search-custom-header-content"]],[["","ngxMatSelectSearchClear",""]]],Ft=function(o,i){return{"mat-select-search-inner-multiple":o,"mat-select-search-inner-toggle-all":i}},kt=[".mat-select-search-custom-header-content","[ngxMatSelectSearchClear]"];let Et=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=t.lG2({type:o,selectors:[["","ngxMatSelectSearchClear",""]]}),o})();const Rt=["ariaLabel","clearSearchInput","closeIcon","closeSvgIcon","disableInitialFocus","disableScrollToActiveOnOptionsChanged","enableClearOnEscapePressed","hideClearSearchButton","indexAndLengthScreenReaderText","noEntriesFoundLabel","placeholderLabel","preventHomeEndKeyPropagation","searching"],Pt=new t.OlP("mat-selectsearch-default-options");let Bt=(()=>{class o{constructor(e,n,a,s=null,l,g=null,m){this.matSelect=e,this.changeDetectorRef=n,this._viewportRuler=a,this.matOption=s,this.liveAnnouncer=l,this.matFormField=g,this.placeholderLabel="Suche",this.type="text",this.closeIcon="close",this.noEntriesFoundLabel="Keine Optionen gefunden",this.indexAndLengthScreenReaderText=" of ",this.clearSearchInput=!0,this.searching=!1,this.disableInitialFocus=!1,this.enableClearOnEscapePressed=!1,this.preventHomeEndKeyPropagation=!1,this.disableScrollToActiveOnOptionsChanged=!1,this.ariaLabel="dropdown search",this.showToggleAllCheckbox=!1,this.toggleAllCheckboxChecked=!1,this.toggleAllCheckboxIndeterminate=!1,this.toggleAllCheckboxTooltipMessage="",this.toogleAllCheckboxTooltipPosition="below",this.hideClearSearchButton=!1,this.alwaysRestoreSelectedOptionsMulti=!1,this.toggleAll=new t.vpe,this.onTouched=h=>{},this._options$=new Ct.X(null),this.optionsList$=this._options$.pipe((0,bt.w)(h=>h?h.changes.pipe((0,E.U)(y=>y.toArray()),(0,V.O)(h.toArray())):(0,H.of)(null))),this.optionsLength$=this.optionsList$.pipe((0,E.U)(h=>h?h.length:0)),this._formControl=new c.NI(""),this._showNoEntriesFound$=(0,yt.a)([this._formControl.valueChanges,this.optionsLength$]).pipe((0,E.U)(([h,y])=>this.noEntriesFoundLabel&&h&&y===this.getOptionsLengthOffset())),this._onDestroy=new C.x,this.applyDefaultOptions(m)}get isInsideMatOption(){return!!this.matOption}get value(){return this._formControl.value}set _options(e){this._options$.next(e)}get _options(){return this._options$.getValue()}applyDefaultOptions(e){if(e)for(let n of Rt)e.hasOwnProperty(n)&&(this[n]=e[n])}ngOnInit(){const e="mat-select-search-panel";this.matSelect.panelClass?Array.isArray(this.matSelect.panelClass)?this.matSelect.panelClass.push(e):"string"==typeof this.matSelect.panelClass?this.matSelect.panelClass=[this.matSelect.panelClass,e]:"object"==typeof this.matSelect.panelClass&&(this.matSelect.panelClass[e]=!0):this.matSelect.panelClass=e,this.matOption?(this.matOption.disabled=!0,this.matOption._getHostElement().classList.add("contains-mat-select-search")):console.error("<ngx-mat-select-search> must be placed inside a <mat-option> element"),this.matSelect.openedChange.pipe((0,xt.g)(1),(0,f.R)(this._onDestroy)).subscribe(n=>{n?(this.updateInputWidth(),this.disableInitialFocus||this._focus()):this.clearSearchInput&&this._reset()}),this.matSelect.openedChange.pipe((0,T.q)(1)).pipe((0,f.R)(this._onDestroy)).subscribe(()=>{this.matSelect._keyManager?this.matSelect._keyManager.change.pipe((0,f.R)(this._onDestroy)).subscribe(()=>this.adjustScrollTopToFitActiveOptionIntoView()):console.log("_keyManager was not initialized."),this._options=this.matSelect.options;let n=this._options.toArray()[this.getOptionsLengthOffset()];this._options.changes.pipe((0,f.R)(this._onDestroy)).subscribe(()=>{setTimeout(()=>{const a=this._options.toArray(),s=a[this.getOptionsLengthOffset()],l=this.matSelect._keyManager;l&&this.matSelect.panelOpen&&((!this.matSelect.compareWith(n,s)||!l.activeItem||!a.find(m=>this.matSelect.compareWith(m,l.activeItem)))&&l.setFirstItemActive(),setTimeout(()=>{this.updateInputWidth()}),this.disableScrollToActiveOnOptionsChanged||this.adjustScrollTopToFitActiveOptionIntoView()),n=s})})}),this._showNoEntriesFound$.pipe((0,f.R)(this._onDestroy)).subscribe(n=>{this.matOption&&(n?this.matOption._getHostElement().classList.add("mat-select-search-no-entries-found"):this.matOption._getHostElement().classList.remove("mat-select-search-no-entries-found"))}),this._viewportRuler.change().pipe((0,f.R)(this._onDestroy)).subscribe(()=>{this.matSelect.panelOpen&&this.updateInputWidth()}),this.initMultipleHandling(),this.optionsList$.pipe((0,f.R)(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}_emitSelectAllBooleanToParent(e){this.toggleAll.emit(e)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_isToggleAllCheckboxVisible(){return this.matSelect.multiple&&this.showToggleAllCheckbox}_handleKeydown(e){(e.key&&1===e.key.length||e.keyCode>=p.A&&e.keyCode<=p.Z||e.keyCode>=p.xE&&e.keyCode<=p.aO||e.keyCode===p.L_||this.preventHomeEndKeyPropagation&&(e.keyCode===p.Sd||e.keyCode===p.uR))&&e.stopPropagation(),this.matSelect.multiple&&e.key&&e.keyCode===p.K5&&setTimeout(()=>this._focus()),!0===this.enableClearOnEscapePressed&&e.keyCode===p.hY&&this.value&&(this._reset(!0),e.stopPropagation())}_handleKeyup(e){if(e.keyCode===p.LH||e.keyCode===p.JH){const n=this.matSelect._getAriaActiveDescendant(),a=this._options.toArray().findIndex(s=>s.id===n);if(-1!==a){const s=this._options.toArray()[a];this.liveAnnouncer.announce(s.viewValue+" "+this.getAriaIndex(a)+this.indexAndLengthScreenReaderText+this.getAriaLength())}}}getAriaIndex(e){return 0===this.getOptionsLengthOffset()?e+1:e}getAriaLength(){return this._options.toArray().length-this.getOptionsLengthOffset()}writeValue(e){this._lastExternalInputValue=e,this._formControl.setValue(e),this.changeDetectorRef.markForCheck()}onBlur(){this.onTouched()}registerOnChange(e){this._formControl.valueChanges.pipe((0,M.h)(n=>n!==this._lastExternalInputValue),(0,vt.b)(()=>this._lastExternalInputValue=void 0),(0,f.R)(this._onDestroy)).subscribe(e)}registerOnTouched(e){this.onTouched=e}_focus(){if(!this.searchSelectInput||!this.matSelect.panel)return;const e=this.matSelect.panel.nativeElement,n=e.scrollTop;this.searchSelectInput.nativeElement.focus(),e.scrollTop=n}_reset(e){this._formControl.setValue(""),e&&this._focus()}initMultipleHandling(){this.matSelect.ngControl?(this.previousSelectedValues=this.matSelect.ngControl.value,this.matSelect.ngControl.valueChanges.pipe((0,f.R)(this._onDestroy)).subscribe(e=>{let n=!1;if(this.matSelect.multiple&&(this.alwaysRestoreSelectedOptionsMulti||this._formControl.value&&this._formControl.value.length)&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){(!e||!Array.isArray(e))&&(e=[]);const a=this.matSelect.options.map(s=>s.value);this.previousSelectedValues.forEach(s=>{!e.some(l=>this.matSelect.compareWith(l,s))&&!a.some(l=>this.matSelect.compareWith(l,s))&&(e.push(s),n=!0)})}this.previousSelectedValues=e,n&&this.matSelect._onChange(e)})):this.matSelect.multiple&&console.error("the mat-select containing ngx-mat-select-search must have a ngModel or formControl directive when multiple=true")}adjustScrollTopToFitActiveOptionIntoView(){if(this.matSelect.panel&&this.matSelect.options.length>0){const e=this.getMatOptionHeight(),n=this.matSelect._keyManager.activeItemIndex||0,a=(0,b.CB)(n,this.matSelect.options,this.matSelect.optionGroups),s=(this.matOption?-1:0)+a+n,l=this.matSelect.panel.nativeElement.scrollTop,g=this.innerSelectSearch.nativeElement.offsetHeight,m=Math.floor((256-g)/e),h=Math.round((l+g)/e)-1;h>=s?this.matSelect.panel.nativeElement.scrollTop=s*e:h+m<=s&&(this.matSelect.panel.nativeElement.scrollTop=(s+1)*e-(256-g))}}updateInputWidth(){if(!this.innerSelectSearch||!this.innerSelectSearch.nativeElement)return;let n,e=this.innerSelectSearch.nativeElement;for(;e=e.parentElement;)if(e.classList.contains("mat-select-panel")){n=e;break}n&&(this.innerSelectSearch.nativeElement.style.width=n.clientWidth+"px")}getMatOptionHeight(){return this.matSelect.options.length>0?this.matSelect.options.first._getHostElement().getBoundingClientRect().height:0}getOptionsLengthOffset(){return this.matOption?1:0}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(k.gD),t.Y36(t.sBO),t.Y36(At.rL),t.Y36(b.ey,8),t.Y36(O.Kd),t.Y36(S.KE,8),t.Y36(Pt,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ngx-mat-select-search"]],contentQueries:function(e,n,a){if(1&e&&t.Suo(a,Et,5),2&e){let s;t.iGM(s=t.CRH())&&(n.clearIcon=s.first)}},viewQuery:function(e,n){if(1&e&&(t.Gf(Mt,7,t.SBq),t.Gf(Tt,7,t.SBq)),2&e){let a;t.iGM(a=t.CRH())&&(n.searchSelectInput=a.first),t.iGM(a=t.CRH())&&(n.innerSelectSearch=a.first)}},hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("mat-select-search-inside-mat-option",n.isInsideMatOption)},inputs:{placeholderLabel:"placeholderLabel",type:"type",closeIcon:"closeIcon",closeSvgIcon:"closeSvgIcon",noEntriesFoundLabel:"noEntriesFoundLabel",indexAndLengthScreenReaderText:"indexAndLengthScreenReaderText",clearSearchInput:"clearSearchInput",searching:"searching",disableInitialFocus:"disableInitialFocus",enableClearOnEscapePressed:"enableClearOnEscapePressed",preventHomeEndKeyPropagation:"preventHomeEndKeyPropagation",disableScrollToActiveOnOptionsChanged:"disableScrollToActiveOnOptionsChanged",ariaLabel:"ariaLabel",showToggleAllCheckbox:"showToggleAllCheckbox",toggleAllCheckboxChecked:"toggleAllCheckboxChecked",toggleAllCheckboxIndeterminate:"toggleAllCheckboxIndeterminate",toggleAllCheckboxTooltipMessage:"toggleAllCheckboxTooltipMessage",toogleAllCheckboxTooltipPosition:"toogleAllCheckboxTooltipPosition",hideClearSearchButton:"hideClearSearchButton",alwaysRestoreSelectedOptionsMulti:"alwaysRestoreSelectedOptionsMulti"},outputs:{toggleAll:"toggleAll"},features:[t._Bn([{provide:c.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0}])],ngContentSelectors:kt,decls:11,vars:14,consts:[["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner","mat-typography","mat-datepicker-content","mat-tab-header",3,"ngClass"],["innerSelectSearch",""],["class","mat-select-search-toggle-all-checkbox","matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change",4,"ngIf"],["autocomplete","off",1,"mat-select-search-input","mat-input-element",3,"type","formControl","placeholder","keydown","keyup","blur"],["searchSelectInput",""],["class","mat-select-search-spinner","diameter","16",4,"ngIf"],["mat-button","","mat-icon-button","","aria-label","Clear","class","mat-select-search-clear",3,"click",4,"ngIf"],["class","mat-select-search-no-entries-found",4,"ngIf"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change"],["diameter","16",1,"mat-select-search-spinner"],["mat-button","","mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[4,"ngIf","ngIfElse"],["defaultIcon",""],[3,"svgIcon"],[1,"mat-select-search-no-entries-found"]],template:function(e,n){1&e&&(t.F$t(Lt),t._UZ(0,"input",0),t.TgZ(1,"div",1,2),t.YNc(3,St,1,5,"mat-checkbox",3),t.TgZ(4,"input",4,5),t.NdJ("keydown",function(s){return n._handleKeydown(s)})("keyup",function(s){return n._handleKeyup(s)})("blur",function(){return n.onBlur()}),t.qZA(),t.YNc(6,Dt,1,0,"mat-spinner",6),t.YNc(7,It,4,2,"button",7),t.Hsn(8),t.qZA(),t.YNc(9,Zt,2,1,"div",8),t.ALo(10,"async")),2&e&&(t.xp6(1),t.Q6J("ngClass",t.WLB(11,Ft,n.matSelect.multiple,n._isToggleAllCheckboxVisible())),t.xp6(2),t.Q6J("ngIf",n._isToggleAllCheckboxVisible()),t.xp6(1),t.Q6J("type",n.type)("formControl",n._formControl)("placeholder",n.placeholderLabel),t.uIk("aria-label",n.ariaLabel),t.xp6(2),t.Q6J("ngIf",n.searching),t.xp6(1),t.Q6J("ngIf",!n.hideClearSearchButton&&n.value&&!n.searching),t.xp6(2),t.Q6J("ngIf",t.lcZ(10,9,n._showNoEntriesFound$)))},directives:[q.oG,U.$g,v.lW,x.Hw,u.mk,u.O5,j.gM,c.Fj,c.JJ,c.oH],pipes:[u.Ov],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;border-bottom-width:1px;border-bottom-style:solid;z-index:100;font-size:inherit;box-shadow:none;border-radius:4px 4px 0 0;-webkit-transform:translate3d(0,0,0)}.mat-select-search-inner.mat-select-search-inner-multiple[_ngcontent-%COMP%]{width:100%}.mat-select-search-inner.mat-select-search-inner-multiple.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-select-search-inner[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{flex-basis:auto}.mat-select-search-inner[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]:-ms-input-placeholder{-ms-user-select:text}  .mat-select-search-panel{transform:none!important;overflow-x:hidden}.mat-select-search-input[_ngcontent-%COMP%]{padding:16px 44px 16px 16px;box-sizing:border-box;width:100%}[dir=rtl][_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-right:16px;padding-left:44px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding:16px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:4px;top:5px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{right:auto;left:4px}.mat-select-search-spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%]{right:auto;left:16px}.mat-select-search-inside-mat-option[_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;height:3em;line-height:3em}.mat-select-search-inside-mat-option[_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{top:3px}  .mat-option[aria-disabled=true].contains-mat-select-search{position:static;padding:0}  .mat-option[aria-disabled=true].contains-mat-select-search .mat-icon{margin-right:0;margin-left:0}  .mat-option[aria-disabled=true].contains-mat-select-search .mat-option-pseudo-checkbox{display:none}  .mat-option[aria-disabled=true].contains-mat-select-search.mat-select-search-no-entries-found{height:6em}.mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:16px;padding-bottom:2px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:0;padding-right:16px}"],changeDetection:0}),o})(),Nt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.ez,c.UX,v.ot,q.p9,x.Ps,U.Cq,j.AV]]}),o})(),Ht=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[D.ie,nt.o9,Z.c,x.Ps,v.ot,_t,k.LD,Nt]}),o})();var Vt=r(3249),W=r(8810),w=r(5395),$=r(2234),Yt=r(4659);function Qt(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().index;return t.oxw().removeSub(a)}),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA(),t.qZA(),t.BQk()}}function Jt(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().index,s=t.oxw(2).index;return t.oxw().deleteCategory(s,a)}),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA(),t.qZA(),t.BQk()}}function qt(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"div",18),t.TgZ(2,"div",11),t.TgZ(3,"mat-form-field",3),t._UZ(4,"input",12),t.TgZ(5,"mat-error"),t._uU(6," Please provide a valid label name "),t.qZA(),t.qZA(),t.YNc(7,Jt,4,0,"ng-container",13),t.qZA(),t.qZA(),t.BQk()),2&o){const e=i.$implicit,n=t.oxw(2).index,a=t.oxw();t.xp6(1),t.Q6J("formGroup",e),t.xp6(6),t.Q6J("ngIf",a.categories(n).controls.length>1)}}function Ut(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",16),t.TgZ(2,"label"),t._uU(3,"Category"),t.qZA(),t.TgZ(4,"button",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().index;return t.oxw().addCat(a)}),t.TgZ(5,"mat-icon"),t._uU(6,"add"),t.qZA(),t.qZA(),t.qZA(),t.ynx(7,17),t.YNc(8,qt,8,2,"ng-container",8),t.BQk(),t.BQk()}if(2&o){const e=t.oxw().index,n=t.oxw();t.xp6(8),t.Q6J("ngForOf",n.categories(e).controls)}}function jt(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",10),t.TgZ(2,"div",11),t.TgZ(3,"button",6),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw().expandCat(s)}),t.TgZ(4,"mat-icon"),t._uU(5,"arrow_drop_down"),t.qZA(),t.qZA(),t.TgZ(6,"mat-form-field",3),t._UZ(7,"input",12),t.TgZ(8,"mat-error"),t._uU(9," Please provide a valid label name "),t.qZA(),t.qZA(),t.YNc(10,Qt,4,0,"ng-container",13),t.qZA(),t.YNc(11,Ut,9,1,"ng-container",13),t.qZA(),t._UZ(12,"mat-divider",14),t.BQk()}if(2&o){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("formGroup",e),t.xp6(9),t.Q6J("ngIf",n.subs().controls.length>1),t.xp6(1),t.Q6J("ngIf",1==e.value.isExpand)}}let z=(()=>{class o{constructor(e,n,a,s){this.formBuilder=e,this._activeRoute=n,this._save=a,this._loc=s,this.categoryForm=this.formBuilder.group({name:["",c.kI.required],subcategory:this.formBuilder.array([this.newSub()])})}ngOnInit(){this.catId=this._activeRoute.snapshot.paramMap.get("id");let e=this._activeRoute.snapshot.data.detail.category;e&&this.getDetail(e)}getDetail(e){this.categoryForm=this.formBuilder.group({name:[e.name,c.kI.required],subcategory:this.formBuilder.array([])}),e.subcategory.map((n,a)=>{this.subs().push(this.formBuilder.group({title:[n.title,c.kI.required],isExpand:[!0],list:this.formBuilder.array([])}))}),e.subcategory.map((n,a)=>{n.list.map(s=>{console.log(s.title),this.categories(a).push(this.formBuilder.group({title:[s.title,c.kI.required]}))})})}subs(){return this.categoryForm.get("subcategory")}categories(e){return this.subs().at(e).get("list")}newSub(){return this.formBuilder.group({title:["",c.kI.required],isExpand:[!0],list:this.formBuilder.array([])})}addSub(){this.subs().push(this.newSub())}removeSub(e){this.subs().removeAt(e)}newcat(){return this.formBuilder.group({title:["",c.kI.required]})}addCat(e){this.categories(e).push(this.newcat())}deleteCategory(e,n){this.categories(e).removeAt(n)}expandCat(e){this.subs().controls[e].value.isExpand=!this.subs().controls[e].value.isExpand}onSave(){this.categoryForm.valid&&(this.sub=this._save.onSaveCategory(this.categoryForm.value,this.catId).subscribe(e=>{this._loc.back()}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(I.gz),t.Y36(W.m),t.Y36(u.Ye))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-category"]],decls:17,vars:2,consts:[[3,"formGroup"],["fxLayout","column","fxLayoutAlign","start center",1,"main-wrapper"],["fxLayout","column","fxLayoutAlign","center center",1,"location-form"],["appearance","outline"],["matInput","","type","text","placeholder","Name","formControlName","name","name","name","required",""],["fxLayout","row","fxLayoutAlign","space-between center",2,"width","100%","margin-top","14px"],["type","button","mat-icon-button","","aria-label","Add button","color","primary",3,"click"],["formArrayName","subcategory"],[4,"ngFor","ngForOf"],[3,"click"],["fxLayout","column","fxLayoutAlign","start start",1,"content-wrapper",3,"formGroup"],["fxLayout","row",2,"width","100%"],["matInput","","type","text","placeholder","Title","formControlName","title","name","title","required",""],[4,"ngIf"],[2,"width","100%"],["mat-icon-button","","color","warn","aria-label","Example icon button with a heart icon",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center",1,"sub-category",2,"margin-top","14px"],["formArrayName","list"],["fxLayout","column","fxLayoutAlign","start start",1,"content-wrapper","sub-category",3,"formGroup"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"mat-form-field",3),t._UZ(4,"input",4),t.TgZ(5,"mat-error"),t._uU(6," Please provide a valid name "),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"label"),t._uU(9,"Sub Category"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return n.addSub()}),t.TgZ(11,"mat-icon"),t._uU(12,"add"),t.qZA(),t.qZA(),t.qZA(),t.ynx(13,7),t.YNc(14,jt,13,3,"ng-container",8),t.BQk(),t.TgZ(15,"app-primary-button",9),t.NdJ("click",function(){return n.onSave()}),t._uU(16," Create "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",n.categoryForm),t.xp6(14),t.Q6J("ngForOf",n.subs().controls))},directives:[c._Y,c.JL,c.sg,w.xw,w.Wh,S.KE,Z.Nt,c.Fj,c.JJ,c.u,c.Q7,S.TO,v.lW,x.Hw,c.CE,u.sg,u.O5,$.d,Yt.C],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%;margin-right:20px}.main-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 360px)}.location-form[_ngcontent-%COMP%]{width:600px}.content-wrapper[_ngcontent-%COMP%]{margin-top:20px;width:100%}.sub-category[_ngcontent-%COMP%]{width:90%;margin-left:10%}"]}),o})();var R=r(6325),Gt=r(5557);const Wt=["multiSelect"];function $t(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item"),t.TgZ(1,"button",6),t.NdJ("click",function(){const s=t.CHM(e).index,l=t.oxw(2).index;return t.oxw(2).addSub4(l,s)}),t.TgZ(2,"mat-icon",8),t._uU(3,"add_circle"),t.qZA(),t.qZA(),t.TgZ(4,"div",9),t._uU(5),t.qZA(),t.qZA()}if(2&o){const e=i.$implicit;t.xp6(5),t.Oqu(e.title)}}function zt(o,i){if(1&o&&(t.TgZ(0,"mat-list"),t.YNc(1,$t,6,1,"mat-list-item",4),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.list)}}function Kt(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5),t.TgZ(2,"button",6),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).expandSub1(s)}),t.TgZ(3,"mat-icon"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"p",7),t._uU(6),t.qZA(),t.qZA(),t.YNc(7,zt,2,1,"mat-list",0),t.BQk()}if(2&o){const e=i.$implicit,n=i.index,a=t.oxw(2);t.xp6(4),t.Oqu(a.category.subcategory[n].isExpand?"remove":"add"),t.xp6(2),t.hij(" ",e.title," "),t.xp6(1),t.Q6J("ngIf",e.isExpand)}}function Xt(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"p",3),t._uU(4),t.qZA(),t.YNc(5,Kt,8,3,"ng-container",4),t.qZA(),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(4),t.hij(" ",e.category.name," "),t.xp6(1),t.Q6J("ngForOf",e.category.subcategory)}}function te(o,i){if(1&o&&(t.ynx(0),t.ynx(1,16),t.TgZ(2,"mat-form-field",23),t._UZ(3,"input",24),t.TgZ(4,"mat-error"),t._uU(5," Please provide a valid name "),t.qZA(),t.qZA(),t.BQk(),t.BQk()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("formGroup",e)}}function ee(o,i){if(1&o&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}function ne(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-form-field"),t.TgZ(2,"mat-select",25,26),t.TgZ(4,"mat-option"),t._UZ(5,"ngx-mat-select-search",27),t.qZA(),t.YNc(6,ee,2,2,"mat-option",28),t.ALo(7,"async"),t.qZA(),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("formControl",e.websiteMultiCtrl),t.xp6(3),t.Q6J("formControl",e.websiteMultiFilterCtrl),t.xp6(1),t.Q6J("ngForOf",t.lcZ(7,3,e.filteredWebsitesMulti))}}function oe(o,i){if(1&o&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&o){const e=i.$implicit;t.xp6(2),t.Oqu(e.name)}}function ie(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",10),t.TgZ(4,"span",11),t._uU(5),t.qZA(),t.TgZ(6,"span",12),t._uU(7,">"),t.qZA(),t.TgZ(8,"span",11),t._uU(9),t.qZA(),t.TgZ(10,"span",12),t._uU(11,">"),t.qZA(),t.TgZ(12,"span",13),t._uU(13),t.qZA(),t.qZA(),t.TgZ(14,"div",14),t.TgZ(15,"label"),t._uU(16,"Sub Category"),t.qZA(),t.TgZ(17,"button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw().addNewSub()}),t.TgZ(18,"mat-icon"),t._uU(19,"add"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"form",16),t.ynx(21,17),t.YNc(22,te,6,1,"ng-container",4),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t._UZ(23,"mat-divider"),t.TgZ(24,"div",18),t.TgZ(25,"div",2),t.YNc(26,ne,8,5,"ng-container",0),t.YNc(27,oe,3,1,"ul",4),t.qZA(),t.qZA(),t.TgZ(28,"div",19),t.TgZ(29,"div",20),t.TgZ(30,"button",21),t._uU(31," Check "),t.qZA(),t.TgZ(32,"button",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSave()}),t._uU(33," Save "),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(5),t.Oqu(e.category.name),t.xp6(4),t.Oqu(e.category.subcategory[e.selectedIndex2].title),t.xp6(4),t.Oqu(e.category.subcategory[e.selectedIndex2].list[e.selectedIndex3].title),t.xp6(7),t.Q6J("formGroup",e.categoryForm),t.xp6(2),t.Q6J("ngForOf",e.subs().controls),t.xp6(4),t.Q6J("ngIf",e.types),t.xp6(1),t.Q6J("ngForOf",null==e.websiteMultiCtrl?null:e.websiteMultiCtrl.value)}}const se=[{path:"",component:et},{path:"create",component:z},{path:"create/:id",component:z,resolve:{detail:R.H}},{path:"view/:id",component:(()=>{class o{constructor(e,n,a,s,l){this._activeRoute=e,this.formBuilder=n,this._save=a,this._service=s,this.dialog=l,this.websiteMultiCtrl=new c.NI,this.websiteMultiFilterCtrl=new c.NI,this.filteredWebsitesMulti=new Gt.t(1),this.selectedIndex2=0,this.selectedIndex3=0,this.currentPageIndex=1,this._onDestroy=new C.x,this.categoryForm=this.formBuilder.group({list:this.formBuilder.array([])})}ngOnInit(){this.catId=this._activeRoute.snapshot.paramMap.get("id"),this.category=this._activeRoute.snapshot.data.detail.category}expandSub1(e){this.category.subcategory[e].isExpand=!this.category.subcategory[e].isExpand}addSub4(e,n){this.selectedIndex2=e,this.selectedIndex3=n,this.currentPageIndex=2,this.addNewSub(),this.getTypeList()}subs(){return this.categoryForm.get("list")}addNewSub(){this.subs().push(this.formBuilder.group({name:["",c.kI.required]}))}getTypeList(){this._service.getTypeList({sortDirection:"desc",limit:10,page:1,sortColumn:"name"}).subscribe(n=>{console.log(n),this.types=n.types,this.websiteMultiCtrl.setValue(this.types[1]),this.filteredWebsitesMulti.next(this.types.slice()),this.websiteMultiFilterCtrl.valueChanges.pipe((0,f.R)(this._onDestroy)).subscribe(()=>{this.filterWebsiteMulti()})})}ngOnDestroy(){this._onDestroy.complete()}setInitialValue(){this.filteredWebsitesMulti.pipe((0,T.q)(1),(0,f.R)(this._onDestroy)).subscribe(()=>{this.multiSelect.compareWith=(e,n)=>e&&n&&e.name===n.categoryId})}filterWebsiteMulti(){if(!this.types)return;let e=this.websiteMultiFilterCtrl.value;e?(e=e.toLowerCase(),this.filteredWebsitesMulti.next(this.types.filter(n=>n.name.toLowerCase().indexOf(e)>-1))):this.filteredWebsitesMulti.next(this.types.slice())}onSave(){var e;this.category.subcategory[this.selectedIndex2].list[this.selectedIndex3].list=this.categoryForm.value.list.map(n=>n.name),this.category.subcategory[this.selectedIndex2].list[this.selectedIndex3].type=null===(e=this.websiteMultiCtrl)||void 0===e?void 0:e.value.map(n=>n.typeId),this._save.onSaveCategory(this.category,this.catId).subscribe(n=>{console.log(n)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(I.gz),t.Y36(c.qu),t.Y36(W.m),t.Y36(B.m),t.Y36(J))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-view-category"]],viewQuery:function(e,n){if(1&e&&t.Gf(Wt,7),2&e){let a;t.iGM(a=t.CRH())&&(n.multiSelect=a.first)}},decls:2,vars:2,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutAlign","start center",1,"main-wrapper"],["fxLayout","column","fxLayoutAlign","start start",1,"location-form"],[1,"mat-title"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center center"],["mat-icon-button","",3,"click"],[1,"mat-subheading-1",2,"margin-bottom","0"],["mat-list-icon",""],["mat-line",""],["fxLayout","row"],[1,"route__path--name"],[1,"arrow"],[1,"route__path--name","active"],["fxLayout","row","fxLayoutAlign","space-between center",2,"width","100%","margin-top","14px"],["type","button","mat-icon-button","","aria-label","Add button","color","primary",3,"click"],[3,"formGroup"],["formArrayName","list"],["fxLayout","column","fxLayoutAlign","start center",1,"main-wrapper",2,"margin-top","20px"],["fxLayout","column","fxLayoutAlign","start center",1,"main-wrapper",2,"margin-top","30px"],["fxLayout","row","fxLayoutAlign","end end",1,"location-form"],["mat-flat-button","","color","accent",2,"margin-right","10px"],["mat-flat-button","","color","primary",3,"click"],["appearance","outline"],["matInput","","type","text","placeholder","Name","formControlName","name","name","name","required",""],["placeholder","Type","multiple","",3,"formControl"],["multiSelect",""],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.YNc(0,Xt,6,2,"ng-container",0),t.YNc(1,ie,34,7,"ng-container",0)),2&e&&(t.Q6J("ngIf",1==n.currentPageIndex),t.xp6(1),t.Q6J("ngIf",2==n.currentPageIndex))},directives:[u.O5,w.xw,w.Wh,u.sg,v.lW,x.Hw,D.i$,D.Tg,D.Nh,b.X2,c._Y,c.JL,c.sg,c.CE,S.KE,Z.Nt,c.Fj,c.JJ,c.u,c.Q7,S.TO,$.d,k.gD,c.oH,b.ey,Bt],pipes:[u.Ov],styles:[".location-form[_ngcontent-%COMP%]{width:600px}.mat-list-item[_ngcontent-%COMP%]{color:#898888}span.route__path--name[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#484848}span.arrow[_ngcontent-%COMP%]{margin:0 10px}span.route__path--name.active[_ngcontent-%COMP%]{color:var(--primary-button);text-decoration:underline}.mat-form-field[_ngcontent-%COMP%]{width:100%;margin-right:20px}form[_ngcontent-%COMP%]{width:100%}"]}),o})(),resolve:{detail:R.H}}];let re=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[R.H],imports:[[u.ez,I.Bz.forChild(se),Ht,Vt.C,c.u5,c.UX]]}),o})()}}]);