"use strict";(self.webpackChunkmyplazawebdevelopment=self.webpackChunkmyplazawebdevelopment||[]).push([[773],{6773:(N,u,n)=>{n.r(u),n.d(u,{LocationModule:()=>b});var c=n(1048),Z=n(8834),t=n(9724),p=n(2508),y=n(366),T=n(7280);let A=(()=>{class e{constructor(o){this._service=o,this.resultsLength=0,this.displayedColumns=["township","duration","charge","action"],this.displayedLabel=["Township","Duration","Charge","Action"],this.dataSource=new Z.by(this.location),this.tableAction={isDelete:!0,isEdit:!0,isView:!1}}ngOnInit(){this.getLocation()}getLocation(o){this._service.getLocationList(o).subscribe(a=>{console.log(a),this.dataSource.data=a.locations,this.resultsLength=a.totalCount})}onSearch(o){this.getLocation(o)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(p.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-location"]],decls:2,vars:5,consts:[[3,"onsearchInput"],[3,"displayedColumns","displayedLabel","dataSource","resultsLength","tableAction"]],template:function(o,a){1&o&&(t.TgZ(0,"app-manage-custom-header",0),t.NdJ("onsearchInput",function(l){return a.onSearch(l)}),t.qZA(),t._UZ(1,"data-table",1)),2&o&&(t.xp6(1),t.Q6J("displayedColumns",a.displayedColumns)("displayedLabel",a.displayedLabel)("dataSource",a.dataSource)("resultsLength",a.resultsLength)("tableAction",a.tableAction))},directives:[y.C,T.Q],styles:[""]}),e})();var d=n(8413),x=n(3249),i=n(1659),S=n(8810),h=n(5395),m=n(5691),g=n(1450),I=n(1531),f=n(8904),M=n(4659);function q(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",12),t.NdJ("click",function(){const l=t.CHM(o).$implicit;return t.oxw().onSelectedState(l)}),t._uU(1),t.qZA()}if(2&e){const o=r.$implicit;t.Q6J("value",o.name),t.xp6(1),t.Oqu(o.name)}}function F(e,r){if(1&e&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o.township),t.xp6(1),t.Oqu(o.township)}}let v=(()=>{class e{constructor(o,a,s,l,L){this.formBuilder=o,this._service=a,this._onsave=s,this._loc=l,this._activeRoute=L,this.states=[],this.townships=[],this.locationForm=this.formBuilder.group({state:["",i.kI.required],township:["",i.kI.required],duration:["",i.kI.required],charge:["",i.kI.required]})}ngOnInit(){this.getMyanmarStates(),this.locId=this._activeRoute.snapshot.paramMap.get("id")}getDetail(o){let a=this.states.map(function(s){return s.name}).indexOf(o.state);this.townships=this.states[a].townships,this.locationForm=this.formBuilder.group({state:[o.state,i.kI.required],township:[o.township,i.kI.required],duration:[o.duration,i.kI.required],charge:[o.charge,i.kI.required]})}getMyanmarStates(){this._service.getMyanmarStates().subscribe(o=>{var a;this.states=o;let s=null===(a=this._activeRoute.snapshot.data.detail)||void 0===a?void 0:a.location;s&&this.getDetail(s)})}onSelectedState(o){this.townships=o.townships}onSaveLocation(){this._onsave.onSaveLocation(this.locationForm.value,this.locId).subscribe(o=>{this._loc.back()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.qu),t.Y36(p.m),t.Y36(S.m),t.Y36(c.Ye),t.Y36(d.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-create-location"]],decls:29,vars:3,consts:[[3,"formGroup"],["fxLayout","column","fxLayoutAlign","center center",1,"main-wrapper"],["fxLayout","column","fxLayoutAlign","center center",1,"location-form"],["fxLayout","row","fxLayout.xs","column",2,"width","100%","margin-bottom","10px"],["appearance","outline"],["formControlName","state","required",""],[3,"value","click",4,"ngFor","ngForOf"],["formControlName","township","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","placeholder","Duration","formControlName","duration","name","duration","required",""],["matInput","","type","text","placeholder","Charge","formControlName","charge","name","charge","required",""],[3,"click"],[3,"value","click"],[3,"value"]],template:function(o,a){1&o&&(t.TgZ(0,"form",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"mat-form-field",4),t.TgZ(5,"mat-label"),t._uU(6,"State"),t.qZA(),t.TgZ(7,"mat-select",5),t.YNc(8,q,2,2,"mat-option",6),t.qZA(),t.TgZ(9,"mat-error"),t._uU(10," Please select state "),t.qZA(),t.qZA(),t.TgZ(11,"mat-form-field",4),t.TgZ(12,"mat-label"),t._uU(13,"Township"),t.qZA(),t.TgZ(14,"mat-select",7),t.YNc(15,F,2,2,"mat-option",8),t.qZA(),t.TgZ(16,"mat-error"),t._uU(17," Please select township "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",3),t.TgZ(19,"mat-form-field",4),t._UZ(20,"input",9),t.TgZ(21,"mat-error"),t._uU(22," Please provide a valid duration "),t.qZA(),t.qZA(),t.TgZ(23,"mat-form-field",4),t._UZ(24,"input",10),t.TgZ(25,"mat-error"),t._uU(26," Please provide a valid charge "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"app-primary-button",11),t.NdJ("click",function(){return a.onSaveLocation()}),t._uU(28," Create "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.Q6J("formGroup",a.locationForm),t.xp6(8),t.Q6J("ngForOf",a.states),t.xp6(7),t.Q6J("ngForOf",a.townships))},directives:[i._Y,i.JL,i.sg,h.xw,h.Wh,m.KE,m.hX,g.gD,i.JJ,i.u,i.Q7,c.sg,I.ey,m.TO,f.Nt,i.Fj,M.C],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%;margin-right:20px}.main-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 360px)}.location-form[_ngcontent-%COMP%]{width:700px}"]}),e})();var w=n(3472),J=n(6329);let O=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,w.ot,g.LD,J.o9,f.c]}),e})();var C=n(6325);const U=[{path:"",component:A},{path:"create",component:v},{path:"create/:id",component:v,resolve:{detail:C.H}}];let b=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[C.H],imports:[[c.ez,d.Bz.forChild(U),x.C,i.u5,i.UX,O]]}),e})()}}]);