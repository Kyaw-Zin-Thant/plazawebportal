"use strict";(self.webpackChunkmyplazawebdevelopment=self.webpackChunkmyplazawebdevelopment||[]).push([[254],{9254:(O,m,a)=>{a.r(m),a.d(m,{TypeModule:()=>S});var s=a(1048),T=a(8834),e=a(9724),C=a(2508),Z=a(366),A=a(7280);let b=(()=>{class n{constructor(t){this._service=t,this.resultsLength=0,this.displayedColumns=["name","type","action"],this.displayedLabel=["Name","Measure","Action"],this.dataSource=new T.by(this.type),this.tableAction={isDelete:!0,isEdit:!0}}ngOnInit(){this.getUserList()}getUserList(t){this.sub=this._service.getTypeList(t).subscribe(o=>{this.resultsLength=o.totalCount,this.dataSource.data=o.types})}onSearch(t){this.getUserList(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-type"]],decls:2,vars:5,consts:[[3,"onsearchInput"],[3,"displayedColumns","displayedLabel","dataSource","resultsLength","tableAction"]],template:function(t,o){1&t&&(e.TgZ(0,"app-manage-custom-header",0),e.NdJ("onsearchInput",function(p){return o.onSearch(p)}),e.qZA(),e._UZ(1,"data-table",1)),2&t&&(e.xp6(1),e.Q6J("displayedColumns",o.displayedColumns)("displayedLabel",o.displayedLabel)("dataSource",o.dataSource)("resultsLength",o.resultsLength)("tableAction",o.tableAction))},directives:[Z.C,A.Q],styles:[""]}),n})();var c=a(8413),r=a(1659),x=a(8810),u=a(5395),d=a(5691),y=a(8904),h=a(3472),g=a(4848),L=a(4659);function I(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",14),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().index;return e.oxw().removetype(l)}),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA(),e.qZA(),e.BQk()}}function M(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",11),e.TgZ(2,"mat-form-field",3),e._UZ(3,"input",12),e.TgZ(4,"mat-error"),e._uU(5," Please provide a valid label name "),e.qZA(),e.qZA(),e.YNc(6,I,4,0,"ng-container",13),e.qZA(),e.BQk()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("formGroup",t),e.xp6(5),e.Q6J("ngIf",o.types().controls.length>1)}}let f=(()=>{class n{constructor(t,o,l,p){this.formBuilder=t,this._save=o,this._activeRoute=l,this._loc=p,this.typeForm=this.formBuilder.group({name:["",r.kI.required],label:["",r.kI.required],list:this.formBuilder.array([this.newType()])})}ngOnInit(){var t;this.typeId=this._activeRoute.snapshot.paramMap.get("id");let o=null===(t=this._activeRoute.snapshot.data.detail)||void 0===t?void 0:t.type;o&&this.getDetail(o)}getDetail(t){console.log(t),this.typeForm=this.formBuilder.group({name:[t.name,r.kI.required],label:[t.label,r.kI.required],list:this.formBuilder.array([])}),t.list.map(o=>{this.types().push(this.formBuilder.group({type:[o,r.kI.required]}))})}types(){return this.typeForm.get("list")}newType(){return this.formBuilder.group({type:["",r.kI.required]})}addMainType(){this.types().push(this.newType())}removetype(t){this.types().removeAt(t)}onSave(){if(this.typeForm.valid){let t=this.typeForm.value.list.map(o=>o.type);this.typeForm.value.list=t,console.log(this.typeId),this.sub=this._save.onSaveType(this.typeForm.value,this.typeId).subscribe(o=>{console.log(o),this._loc.back()})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(x.m),e.Y36(c.gz),e.Y36(s.Ye))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-type"]],decls:21,vars:2,consts:[[3,"formGroup"],["fxLayout","column","fxLayoutAlign","start center",1,"main-wrapper"],["fxLayout","column","fxLayoutAlign","center center",1,"location-form"],["appearance","outline"],["matInput","","type","text","placeholder","Name","formControlName","name","name","name","required",""],["matInput","","type","text","placeholder","Label Name","formControlName","label","name","labelName","required",""],["fxLayout","row","fxLayoutAlign","space-between center",2,"width","100%","margin-top","14px"],["mat-mini-fab","","aria-label","Add button","color","primary",3,"click"],["formArrayName","list"],[4,"ngFor","ngForOf"],[3,"click"],["fxLayoutAlign","start start",1,"type-wrapper",3,"formGroup"],["matInput","","type","text","placeholder","Label Name","formControlName","type","name","type","required",""],[4,"ngIf"],["mat-icon-button","","color","warn","aria-label","Example icon button with a heart icon",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"mat-form-field",3),e._UZ(4,"input",4),e.TgZ(5,"mat-error"),e._uU(6," Please provide a valid name "),e.qZA(),e.qZA(),e.TgZ(7,"mat-form-field",3),e._UZ(8,"input",5),e.TgZ(9,"mat-error"),e._uU(10," Please provide a valid label name "),e.qZA(),e.qZA(),e.TgZ(11,"div",6),e.TgZ(12,"label"),e._uU(13,"Type"),e.qZA(),e.TgZ(14,"button",7),e.NdJ("click",function(){return o.addMainType()}),e.TgZ(15,"mat-icon"),e._uU(16,"add"),e.qZA(),e.qZA(),e.qZA(),e.ynx(17,8),e.YNc(18,M,7,2,"ng-container",9),e.BQk(),e.TgZ(19,"app-primary-button",10),e.NdJ("click",function(){return o.onSave()}),e._uU(20," Create "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",o.typeForm),e.xp6(18),e.Q6J("ngForOf",o.types().controls))},directives:[r._Y,r.JL,r.sg,u.xw,u.Wh,d.KE,y.Nt,r.Fj,r.JJ,r.u,r.Q7,d.TO,h.lW,g.Hw,r.CE,s.sg,s.O5,L.C],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%;margin-right:20px}.main-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 80px);padding:30px 0}.location-form[_ngcontent-%COMP%]{width:600px}.type-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:16px}"]}),n})();var F=a(3249),N=a(5523),U=a(6329);let J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[N.ie,U.o9,y.c,g.Ps,h.ot]}),n})();var v=a(6325);const B=[{path:"",component:b},{path:"create",component:f},{path:"create/:id",component:f,resolve:{detail:v.H}}];let S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[v.H],imports:[[s.ez,c.Bz.forChild(B),F.C,r.u5,r.UX,J]]}),n})()}}]);