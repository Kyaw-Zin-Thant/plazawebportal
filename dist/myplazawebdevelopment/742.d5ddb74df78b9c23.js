"use strict";(self.webpackChunkmyplazawebdevelopment=self.webpackChunkmyplazawebdevelopment||[]).push([[742],{5742:(qt,M,r)=>{r.r(M),r.d(M,{CategoryModule:()=>Qt});var h=r(1048),B=r(8834),t=r(9724),I=r(2508),U=r(366),H=r(7280);let D=(()=>{class o{constructor(e){this._service=e,this.resultsLength=0,this.displayedColumns=["name","action"],this.displayedLabel=["Name","Action"],this.dataSource=new B.by(this.category),this.tableAction={isDelete:!0,isEdit:!0,isView:!0}}ngOnInit(){this.getCategoryList()}getCategoryList(e){this.sub=this._service.getCategoryList(e).subscribe(n=>{console.log(n),this.resultsLength=n.totalCount,this.dataSource.data=n.categories})}onSearch(e){this.getCategoryList(e)}ngOnDestroy(){var e;null===(e=this.sub)||void 0===e||e.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(I.m))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-category"]],decls:2,vars:5,consts:[[3,"onsearchInput"],[3,"displayedColumns","displayedLabel","dataSource","resultsLength","tableAction"]],template:function(e,n){1&e&&(t.TgZ(0,"app-manage-custom-header",0),t.NdJ("onsearchInput",function(s){return n.onSearch(s)}),t.qZA(),t._UZ(1,"data-table",1)),2&e&&(t.xp6(1),t.Q6J("displayedColumns",n.displayedColumns)("displayedLabel",n.displayedLabel)("dataSource",n.dataSource)("resultsLength",n.resultsLength)("tableAction",n.tableAction))},directives:[U.C,H.Q],styles:[""]}),o})();var S=r(8413),y=r(5523),V=r(6329),v=r(8904),d=r(4848),f=r(3472),w=r(8485),T=r(1450),g=r(4482),l=r(1659),x=r(1531),_=r(5691),R=r(4121),Y=r(4945),W=r(5696),L=r(8023),G=r(1528),A=r(7969),$=r(1927),j=r(8982),u=r(3528),k=r(5598),K=r(4970),z=r(8168),X=r(6716),tt=r(7188),F=r(6088),E=r(4039),P=r(6146);const et=["searchSelectInput"],nt=["innerSelectSearch"];function ot(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-checkbox",9),t.NdJ("change",function(a){return t.CHM(e),t.oxw()._emitSelectAllBooleanToParent(a.checked)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("color",null==e.matFormField?null:e.matFormField.color)("checked",e.toggleAllCheckboxChecked)("indeterminate",e.toggleAllCheckboxIndeterminate)("matTooltip",e.toggleAllCheckboxTooltipMessage)("matTooltipPosition",e.toogleAllCheckboxTooltipPosition)}}function it(o,i){1&o&&t._UZ(0,"mat-spinner",10)}function at(o,i){1&o&&t.Hsn(0,1,["*ngIf","clearIcon; else defaultIcon"])}function st(o,i){if(1&o&&(t.TgZ(0,"mat-icon",14),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("svgIcon",e.closeSvgIcon),t.xp6(1),t.hij(" ",e.closeSvgIcon?null:e.closeIcon," ")}}function rt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw()._reset(!0)}),t.YNc(1,at,1,0,"ng-content",12),t.YNc(2,st,2,2,"ng-template",null,13,t.W1O),t.qZA()}if(2&o){const e=t.MAs(3),n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.clearIcon)("ngIfElse",e)}}function lt(o,i){if(1&o&&(t.TgZ(0,"div",15),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.noEntriesFoundLabel,"\n")}}const ct=[[["",8,"mat-select-search-custom-header-content"]],[["","ngxMatSelectSearchClear",""]]],pt=function(o,i){return{"mat-select-search-inner-multiple":o,"mat-select-search-inner-toggle-all":i}},ht=[".mat-select-search-custom-header-content","[ngxMatSelectSearchClear]"];let gt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=t.lG2({type:o,selectors:[["","ngxMatSelectSearchClear",""]]}),o})();const ut=["ariaLabel","clearSearchInput","closeIcon","closeSvgIcon","disableInitialFocus","disableScrollToActiveOnOptionsChanged","enableClearOnEscapePressed","hideClearSearchButton","indexAndLengthScreenReaderText","noEntriesFoundLabel","placeholderLabel","preventHomeEndKeyPropagation","searching"],mt=new t.OlP("mat-selectsearch-default-options");let dt=(()=>{class o{constructor(e,n,a,s=null,c,m=null,C){this.matSelect=e,this.changeDetectorRef=n,this._viewportRuler=a,this.matOption=s,this.liveAnnouncer=c,this.matFormField=m,this.placeholderLabel="Suche",this.type="text",this.closeIcon="close",this.noEntriesFoundLabel="Keine Optionen gefunden",this.indexAndLengthScreenReaderText=" of ",this.clearSearchInput=!0,this.searching=!1,this.disableInitialFocus=!1,this.enableClearOnEscapePressed=!1,this.preventHomeEndKeyPropagation=!1,this.disableScrollToActiveOnOptionsChanged=!1,this.ariaLabel="dropdown search",this.showToggleAllCheckbox=!1,this.toggleAllCheckboxChecked=!1,this.toggleAllCheckboxIndeterminate=!1,this.toggleAllCheckboxTooltipMessage="",this.toogleAllCheckboxTooltipPosition="below",this.hideClearSearchButton=!1,this.alwaysRestoreSelectedOptionsMulti=!1,this.toggleAll=new t.vpe,this.onTouched=p=>{},this._options$=new R.X(null),this.optionsList$=this._options$.pipe((0,G.w)(p=>p?p.changes.pipe((0,A.U)(O=>O.toArray()),(0,$.O)(p.toArray())):(0,Y.of)(null))),this.optionsLength$=this.optionsList$.pipe((0,A.U)(p=>p?p.length:0)),this._formControl=new l.NI(""),this._showNoEntriesFound$=(0,W.a)([this._formControl.valueChanges,this.optionsLength$]).pipe((0,A.U)(([p,O])=>this.noEntriesFoundLabel&&p&&O===this.getOptionsLengthOffset())),this._onDestroy=new L.x,this.applyDefaultOptions(C)}get isInsideMatOption(){return!!this.matOption}get value(){return this._formControl.value}set _options(e){this._options$.next(e)}get _options(){return this._options$.getValue()}applyDefaultOptions(e){if(e)for(let n of ut)e.hasOwnProperty(n)&&(this[n]=e[n])}ngOnInit(){const e="mat-select-search-panel";this.matSelect.panelClass?Array.isArray(this.matSelect.panelClass)?this.matSelect.panelClass.push(e):"string"==typeof this.matSelect.panelClass?this.matSelect.panelClass=[this.matSelect.panelClass,e]:"object"==typeof this.matSelect.panelClass&&(this.matSelect.panelClass[e]=!0):this.matSelect.panelClass=e,this.matOption?(this.matOption.disabled=!0,this.matOption._getHostElement().classList.add("contains-mat-select-search")):console.error("<ngx-mat-select-search> must be placed inside a <mat-option> element"),this.matSelect.openedChange.pipe((0,j.g)(1),(0,u.R)(this._onDestroy)).subscribe(n=>{n?(this.updateInputWidth(),this.disableInitialFocus||this._focus()):this.clearSearchInput&&this._reset()}),this.matSelect.openedChange.pipe((0,k.q)(1)).pipe((0,u.R)(this._onDestroy)).subscribe(()=>{this.matSelect._keyManager?this.matSelect._keyManager.change.pipe((0,u.R)(this._onDestroy)).subscribe(()=>this.adjustScrollTopToFitActiveOptionIntoView()):console.log("_keyManager was not initialized."),this._options=this.matSelect.options;let n=this._options.toArray()[this.getOptionsLengthOffset()];this._options.changes.pipe((0,u.R)(this._onDestroy)).subscribe(()=>{setTimeout(()=>{const a=this._options.toArray(),s=a[this.getOptionsLengthOffset()],c=this.matSelect._keyManager;c&&this.matSelect.panelOpen&&((!this.matSelect.compareWith(n,s)||!c.activeItem||!a.find(C=>this.matSelect.compareWith(C,c.activeItem)))&&c.setFirstItemActive(),setTimeout(()=>{this.updateInputWidth()}),this.disableScrollToActiveOnOptionsChanged||this.adjustScrollTopToFitActiveOptionIntoView()),n=s})})}),this._showNoEntriesFound$.pipe((0,u.R)(this._onDestroy)).subscribe(n=>{this.matOption&&(n?this.matOption._getHostElement().classList.add("mat-select-search-no-entries-found"):this.matOption._getHostElement().classList.remove("mat-select-search-no-entries-found"))}),this._viewportRuler.change().pipe((0,u.R)(this._onDestroy)).subscribe(()=>{this.matSelect.panelOpen&&this.updateInputWidth()}),this.initMultipleHandling(),this.optionsList$.pipe((0,u.R)(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}_emitSelectAllBooleanToParent(e){this.toggleAll.emit(e)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_isToggleAllCheckboxVisible(){return this.matSelect.multiple&&this.showToggleAllCheckbox}_handleKeydown(e){(e.key&&1===e.key.length||e.keyCode>=g.A&&e.keyCode<=g.Z||e.keyCode>=g.xE&&e.keyCode<=g.aO||e.keyCode===g.L_||this.preventHomeEndKeyPropagation&&(e.keyCode===g.Sd||e.keyCode===g.uR))&&e.stopPropagation(),this.matSelect.multiple&&e.key&&e.keyCode===g.K5&&setTimeout(()=>this._focus()),!0===this.enableClearOnEscapePressed&&e.keyCode===g.hY&&this.value&&(this._reset(!0),e.stopPropagation())}_handleKeyup(e){if(e.keyCode===g.LH||e.keyCode===g.JH){const n=this.matSelect._getAriaActiveDescendant(),a=this._options.toArray().findIndex(s=>s.id===n);if(-1!==a){const s=this._options.toArray()[a];this.liveAnnouncer.announce(s.viewValue+" "+this.getAriaIndex(a)+this.indexAndLengthScreenReaderText+this.getAriaLength())}}}getAriaIndex(e){return 0===this.getOptionsLengthOffset()?e+1:e}getAriaLength(){return this._options.toArray().length-this.getOptionsLengthOffset()}writeValue(e){this._lastExternalInputValue=e,this._formControl.setValue(e),this.changeDetectorRef.markForCheck()}onBlur(){this.onTouched()}registerOnChange(e){this._formControl.valueChanges.pipe((0,K.h)(n=>n!==this._lastExternalInputValue),(0,z.b)(()=>this._lastExternalInputValue=void 0),(0,u.R)(this._onDestroy)).subscribe(e)}registerOnTouched(e){this.onTouched=e}_focus(){if(!this.searchSelectInput||!this.matSelect.panel)return;const e=this.matSelect.panel.nativeElement,n=e.scrollTop;this.searchSelectInput.nativeElement.focus(),e.scrollTop=n}_reset(e){this._formControl.setValue(""),e&&this._focus()}initMultipleHandling(){this.matSelect.ngControl?(this.previousSelectedValues=this.matSelect.ngControl.value,this.matSelect.ngControl.valueChanges.pipe((0,u.R)(this._onDestroy)).subscribe(e=>{let n=!1;if(this.matSelect.multiple&&(this.alwaysRestoreSelectedOptionsMulti||this._formControl.value&&this._formControl.value.length)&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){(!e||!Array.isArray(e))&&(e=[]);const a=this.matSelect.options.map(s=>s.value);this.previousSelectedValues.forEach(s=>{!e.some(c=>this.matSelect.compareWith(c,s))&&!a.some(c=>this.matSelect.compareWith(c,s))&&(e.push(s),n=!0)})}this.previousSelectedValues=e,n&&this.matSelect._onChange(e)})):this.matSelect.multiple&&console.error("the mat-select containing ngx-mat-select-search must have a ngModel or formControl directive when multiple=true")}adjustScrollTopToFitActiveOptionIntoView(){if(this.matSelect.panel&&this.matSelect.options.length>0){const e=this.getMatOptionHeight(),n=this.matSelect._keyManager.activeItemIndex||0,a=(0,x.CB)(n,this.matSelect.options,this.matSelect.optionGroups),s=(this.matOption?-1:0)+a+n,c=this.matSelect.panel.nativeElement.scrollTop,m=this.innerSelectSearch.nativeElement.offsetHeight,C=Math.floor((256-m)/e),p=Math.round((c+m)/e)-1;p>=s?this.matSelect.panel.nativeElement.scrollTop=s*e:p+C<=s&&(this.matSelect.panel.nativeElement.scrollTop=(s+1)*e-(256-m))}}updateInputWidth(){if(!this.innerSelectSearch||!this.innerSelectSearch.nativeElement)return;let n,e=this.innerSelectSearch.nativeElement;for(;e=e.parentElement;)if(e.classList.contains("mat-select-panel")){n=e;break}n&&(this.innerSelectSearch.nativeElement.style.width=n.clientWidth+"px")}getMatOptionHeight(){return this.matSelect.options.length>0?this.matSelect.options.first._getHostElement().getBoundingClientRect().height:0}getOptionsLengthOffset(){return this.matOption?1:0}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.gD),t.Y36(t.sBO),t.Y36(X.rL),t.Y36(x.ey,8),t.Y36(tt.Kd),t.Y36(_.KE,8),t.Y36(mt,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ngx-mat-select-search"]],contentQueries:function(e,n,a){if(1&e&&t.Suo(a,gt,5),2&e){let s;t.iGM(s=t.CRH())&&(n.clearIcon=s.first)}},viewQuery:function(e,n){if(1&e&&(t.Gf(et,7,t.SBq),t.Gf(nt,7,t.SBq)),2&e){let a;t.iGM(a=t.CRH())&&(n.searchSelectInput=a.first),t.iGM(a=t.CRH())&&(n.innerSelectSearch=a.first)}},hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("mat-select-search-inside-mat-option",n.isInsideMatOption)},inputs:{placeholderLabel:"placeholderLabel",type:"type",closeIcon:"closeIcon",closeSvgIcon:"closeSvgIcon",noEntriesFoundLabel:"noEntriesFoundLabel",indexAndLengthScreenReaderText:"indexAndLengthScreenReaderText",clearSearchInput:"clearSearchInput",searching:"searching",disableInitialFocus:"disableInitialFocus",enableClearOnEscapePressed:"enableClearOnEscapePressed",preventHomeEndKeyPropagation:"preventHomeEndKeyPropagation",disableScrollToActiveOnOptionsChanged:"disableScrollToActiveOnOptionsChanged",ariaLabel:"ariaLabel",showToggleAllCheckbox:"showToggleAllCheckbox",toggleAllCheckboxChecked:"toggleAllCheckboxChecked",toggleAllCheckboxIndeterminate:"toggleAllCheckboxIndeterminate",toggleAllCheckboxTooltipMessage:"toggleAllCheckboxTooltipMessage",toogleAllCheckboxTooltipPosition:"toogleAllCheckboxTooltipPosition",hideClearSearchButton:"hideClearSearchButton",alwaysRestoreSelectedOptionsMulti:"alwaysRestoreSelectedOptionsMulti"},outputs:{toggleAll:"toggleAll"},features:[t._Bn([{provide:l.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0}])],ngContentSelectors:ht,decls:11,vars:14,consts:[["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner","mat-typography","mat-datepicker-content","mat-tab-header",3,"ngClass"],["innerSelectSearch",""],["class","mat-select-search-toggle-all-checkbox","matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change",4,"ngIf"],["autocomplete","off",1,"mat-select-search-input","mat-input-element",3,"type","formControl","placeholder","keydown","keyup","blur"],["searchSelectInput",""],["class","mat-select-search-spinner","diameter","16",4,"ngIf"],["mat-button","","mat-icon-button","","aria-label","Clear","class","mat-select-search-clear",3,"click",4,"ngIf"],["class","mat-select-search-no-entries-found",4,"ngIf"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change"],["diameter","16",1,"mat-select-search-spinner"],["mat-button","","mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[4,"ngIf","ngIfElse"],["defaultIcon",""],[3,"svgIcon"],[1,"mat-select-search-no-entries-found"]],template:function(e,n){1&e&&(t.F$t(ct),t._UZ(0,"input",0),t.TgZ(1,"div",1,2),t.YNc(3,ot,1,5,"mat-checkbox",3),t.TgZ(4,"input",4,5),t.NdJ("keydown",function(s){return n._handleKeydown(s)})("keyup",function(s){return n._handleKeyup(s)})("blur",function(){return n.onBlur()}),t.qZA(),t.YNc(6,it,1,0,"mat-spinner",6),t.YNc(7,rt,4,2,"button",7),t.Hsn(8),t.qZA(),t.YNc(9,lt,2,1,"div",8),t.ALo(10,"async")),2&e&&(t.xp6(1),t.Q6J("ngClass",t.WLB(11,pt,n.matSelect.multiple,n._isToggleAllCheckboxVisible())),t.xp6(2),t.Q6J("ngIf",n._isToggleAllCheckboxVisible()),t.xp6(1),t.Q6J("type",n.type)("formControl",n._formControl)("placeholder",n.placeholderLabel),t.uIk("aria-label",n.ariaLabel),t.xp6(2),t.Q6J("ngIf",n.searching),t.xp6(1),t.Q6J("ngIf",!n.hideClearSearchButton&&n.value&&!n.searching),t.xp6(2),t.Q6J("ngIf",t.lcZ(10,9,n._showNoEntriesFound$)))},directives:[F.oG,E.$g,f.lW,d.Hw,h.mk,h.O5,P.gM,l.Fj,l.JJ,l.oH],pipes:[h.Ov],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;border-bottom-width:1px;border-bottom-style:solid;z-index:100;font-size:inherit;box-shadow:none;border-radius:4px 4px 0 0;-webkit-transform:translate3d(0,0,0)}.mat-select-search-inner.mat-select-search-inner-multiple[_ngcontent-%COMP%]{width:100%}.mat-select-search-inner.mat-select-search-inner-multiple.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-select-search-inner[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{flex-basis:auto}.mat-select-search-inner[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]:-ms-input-placeholder{-ms-user-select:text}  .mat-select-search-panel{transform:none!important;overflow-x:hidden}.mat-select-search-input[_ngcontent-%COMP%]{padding:16px 44px 16px 16px;box-sizing:border-box;width:100%}[dir=rtl][_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-right:16px;padding-left:44px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding:16px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:4px;top:5px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{right:auto;left:4px}.mat-select-search-spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%]{right:auto;left:16px}.mat-select-search-inside-mat-option[_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;height:3em;line-height:3em}.mat-select-search-inside-mat-option[_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{top:3px}  .mat-option[aria-disabled=true].contains-mat-select-search{position:static;padding:0}  .mat-option[aria-disabled=true].contains-mat-select-search .mat-icon{margin-right:0;margin-left:0}  .mat-option[aria-disabled=true].contains-mat-select-search .mat-option-pseudo-checkbox{display:none}  .mat-option[aria-disabled=true].contains-mat-select-search.mat-select-search-no-entries-found{height:6em}.mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:16px;padding-bottom:2px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:0;padding-right:16px}"],changeDetection:0}),o})(),ft=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[h.ez,l.UX,f.ot,F.p9,d.Ps,E.Cq,P.AV]]}),o})(),_t=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[y.ie,V.o9,v.c,d.Ps,f.ot,w.Is,T.LD,ft]}),o})();var Ct=r(3249),J=r(8810),b=r(5395),Q=r(2234),yt=r(4659);function xt(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().index;return t.oxw().removeSub(a)}),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA(),t.qZA(),t.BQk()}}function bt(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().index,s=t.oxw(2).index;return t.oxw().deleteCategory(s,a)}),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA(),t.qZA(),t.BQk()}}function St(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"div",18),t.TgZ(2,"div",11),t.TgZ(3,"mat-form-field",3),t._UZ(4,"input",12),t.TgZ(5,"mat-error"),t._uU(6," Please provide a valid label name "),t.qZA(),t.qZA(),t.YNc(7,bt,4,0,"ng-container",13),t.qZA(),t.qZA(),t.BQk()),2&o){const e=i.$implicit,n=t.oxw(2).index,a=t.oxw();t.xp6(1),t.Q6J("formGroup",e),t.xp6(6),t.Q6J("ngIf",a.categories(n).controls.length>1)}}function vt(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",16),t.TgZ(2,"label"),t._uU(3,"Category"),t.qZA(),t.TgZ(4,"button",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().index;return t.oxw().addCat(a)}),t.TgZ(5,"mat-icon"),t._uU(6,"add"),t.qZA(),t.qZA(),t.qZA(),t.ynx(7,17),t.YNc(8,St,8,2,"ng-container",8),t.BQk(),t.BQk()}if(2&o){const e=t.oxw().index,n=t.oxw();t.xp6(8),t.Q6J("ngForOf",n.categories(e).controls)}}function Tt(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",10),t.TgZ(2,"div",11),t.TgZ(3,"button",6),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw().expandCat(s)}),t.TgZ(4,"mat-icon"),t._uU(5,"arrow_drop_down"),t.qZA(),t.qZA(),t.TgZ(6,"mat-form-field",3),t._UZ(7,"input",12),t.TgZ(8,"mat-error"),t._uU(9," Please provide a valid label name "),t.qZA(),t.qZA(),t.YNc(10,xt,4,0,"ng-container",13),t.qZA(),t.YNc(11,vt,9,1,"ng-container",13),t.qZA(),t._UZ(12,"mat-divider",14),t.BQk()}if(2&o){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("formGroup",e),t.xp6(9),t.Q6J("ngIf",n.subs().controls.length>1),t.xp6(1),t.Q6J("ngIf",1==e.value.isExpand)}}let q=(()=>{class o{constructor(e,n,a,s){this.formBuilder=e,this._activeRoute=n,this._save=a,this._loc=s,this.categoryForm=this.formBuilder.group({name:["",l.kI.required],subcategory:this.formBuilder.array([this.newSub()])})}ngOnInit(){this.catId=this._activeRoute.snapshot.paramMap.get("id");let e=this._activeRoute.snapshot.data.detail.category;e&&this.getDetail(e)}getDetail(e){this.categoryForm=this.formBuilder.group({name:[e.name,l.kI.required],subcategory:this.formBuilder.array([])}),e.subcategory.map((n,a)=>{this.subs().push(this.formBuilder.group({title:[n.title,l.kI.required],isExpand:[!0],list:this.formBuilder.array([])}))}),e.subcategory.map((n,a)=>{n.list.map(s=>{console.log(s.title),this.categories(a).push(this.formBuilder.group({title:[s.title,l.kI.required]}))})})}subs(){return this.categoryForm.get("subcategory")}categories(e){return this.subs().at(e).get("list")}newSub(){return this.formBuilder.group({title:["",l.kI.required],isExpand:[!0],list:this.formBuilder.array([])})}addSub(){this.subs().push(this.newSub())}removeSub(e){this.subs().removeAt(e)}newcat(){return this.formBuilder.group({title:["",l.kI.required]})}addCat(e){this.categories(e).push(this.newcat())}deleteCategory(e,n){this.categories(e).removeAt(n)}expandCat(e){this.subs().controls[e].value.isExpand=!this.subs().controls[e].value.isExpand}onSave(){this.categoryForm.valid&&(this.sub=this._save.onSaveCategory(this.categoryForm.value,this.catId).subscribe(e=>{this._loc.back()}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(S.gz),t.Y36(J.m),t.Y36(h.Ye))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-category"]],decls:17,vars:2,consts:[[3,"formGroup"],["fxLayout","column","fxLayoutAlign","start center",1,"main-wrapper"],["fxLayout","column","fxLayoutAlign","center center",1,"location-form"],["appearance","outline"],["matInput","","type","text","placeholder","Name","formControlName","name","name","name","required",""],["fxLayout","row","fxLayoutAlign","space-between center",2,"width","100%","margin-top","14px"],["type","button","mat-icon-button","","aria-label","Add button","color","primary",3,"click"],["formArrayName","subcategory"],[4,"ngFor","ngForOf"],[3,"click"],["fxLayout","column","fxLayoutAlign","start start",1,"content-wrapper",3,"formGroup"],["fxLayout","row",2,"width","100%"],["matInput","","type","text","placeholder","Title","formControlName","title","name","title","required",""],[4,"ngIf"],[2,"width","100%"],["mat-icon-button","","color","warn","aria-label","Example icon button with a heart icon",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center",1,"sub-category",2,"margin-top","14px"],["formArrayName","list"],["fxLayout","column","fxLayoutAlign","start start",1,"content-wrapper","sub-category",3,"formGroup"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"mat-form-field",3),t._UZ(4,"input",4),t.TgZ(5,"mat-error"),t._uU(6," Please provide a valid name "),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"label"),t._uU(9,"Sub Category"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return n.addSub()}),t.TgZ(11,"mat-icon"),t._uU(12,"add"),t.qZA(),t.qZA(),t.qZA(),t.ynx(13,7),t.YNc(14,Tt,13,3,"ng-container",8),t.BQk(),t.TgZ(15,"app-primary-button",9),t.NdJ("click",function(){return n.onSave()}),t._uU(16," Create "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",n.categoryForm),t.xp6(14),t.Q6J("ngForOf",n.subs().controls))},directives:[l._Y,l.JL,l.sg,b.xw,b.Wh,_.KE,v.Nt,l.Fj,l.JJ,l.u,l.Q7,_.TO,f.lW,d.Hw,l.CE,h.sg,h.O5,Q.d,yt.C],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%;margin-right:20px}.main-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 360px)}.location-form[_ngcontent-%COMP%]{width:600px}.content-wrapper[_ngcontent-%COMP%]{margin-top:20px;width:100%}.sub-category[_ngcontent-%COMP%]{width:90%;margin-left:10%}"]}),o})();var Z=r(6325),At=r(5557);const Zt=["multiSelect"];function Ot(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item"),t.TgZ(1,"button",6),t.NdJ("click",function(){const s=t.CHM(e).index,c=t.oxw(2).index;return t.oxw(2).addSub4(c,s)}),t.TgZ(2,"mat-icon",8),t._uU(3,"add_circle"),t.qZA(),t.qZA(),t.TgZ(4,"div",9),t._uU(5),t.qZA(),t.qZA()}if(2&o){const e=i.$implicit;t.xp6(5),t.Oqu(e.title)}}function Mt(o,i){if(1&o&&(t.TgZ(0,"mat-list"),t.YNc(1,Ot,6,1,"mat-list-item",4),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.list)}}function It(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5),t.TgZ(2,"button",6),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).expandSub1(s)}),t.TgZ(3,"mat-icon"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"p",7),t._uU(6),t.qZA(),t.qZA(),t.YNc(7,Mt,2,1,"mat-list",0),t.BQk()}if(2&o){const e=i.$implicit,n=i.index,a=t.oxw(2);t.xp6(4),t.Oqu(a.category.subcategory[n].isExpand?"remove":"add"),t.xp6(2),t.hij(" ",e.title," "),t.xp6(1),t.Q6J("ngIf",e.isExpand)}}function wt(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"p",3),t._uU(4),t.qZA(),t.YNc(5,It,8,3,"ng-container",4),t.qZA(),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(4),t.hij(" ",e.category.name," "),t.xp6(1),t.Q6J("ngForOf",e.category.subcategory)}}function Lt(o,i){if(1&o&&(t.ynx(0),t.ynx(1,16),t.TgZ(2,"mat-form-field",23),t._UZ(3,"input",24),t.TgZ(4,"mat-error"),t._uU(5," Please provide a valid name "),t.qZA(),t.qZA(),t.BQk(),t.BQk()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("formGroup",e)}}function kt(o,i){if(1&o&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}function Ft(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-form-field"),t.TgZ(2,"mat-select",25,26),t.TgZ(4,"mat-option"),t._UZ(5,"ngx-mat-select-search",27),t.qZA(),t.YNc(6,kt,2,2,"mat-option",28),t.ALo(7,"async"),t.qZA(),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("formControl",e.websiteMultiCtrl),t.xp6(3),t.Q6J("formControl",e.websiteMultiFilterCtrl),t.xp6(1),t.Q6J("ngForOf",t.lcZ(7,3,e.filteredWebsitesMulti))}}function Et(o,i){if(1&o&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&o){const e=i.$implicit;t.xp6(2),t.Oqu(e.name)}}function Pt(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",10),t.TgZ(4,"span",11),t._uU(5),t.qZA(),t.TgZ(6,"span",12),t._uU(7,">"),t.qZA(),t.TgZ(8,"span",11),t._uU(9),t.qZA(),t.TgZ(10,"span",12),t._uU(11,">"),t.qZA(),t.TgZ(12,"span",13),t._uU(13),t.qZA(),t.qZA(),t.TgZ(14,"div",14),t.TgZ(15,"label"),t._uU(16,"Sub Category"),t.qZA(),t.TgZ(17,"button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw().addNewSub()}),t.TgZ(18,"mat-icon"),t._uU(19,"add"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"form",16),t.ynx(21,17),t.YNc(22,Lt,6,1,"ng-container",4),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t._UZ(23,"mat-divider"),t.TgZ(24,"div",18),t.TgZ(25,"div",2),t.YNc(26,Ft,8,5,"ng-container",0),t.YNc(27,Et,3,1,"ul",4),t.qZA(),t.qZA(),t.TgZ(28,"div",19),t.TgZ(29,"div",20),t.TgZ(30,"button",21),t._uU(31," Check "),t.qZA(),t.TgZ(32,"button",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSave()}),t._uU(33," Save "),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(5),t.Oqu(e.category.name),t.xp6(4),t.Oqu(e.category.subcategory[e.selectedIndex2].title),t.xp6(4),t.Oqu(e.category.subcategory[e.selectedIndex2].list[e.selectedIndex3].title),t.xp6(7),t.Q6J("formGroup",e.categoryForm),t.xp6(2),t.Q6J("ngForOf",e.subs().controls),t.xp6(4),t.Q6J("ngIf",e.types),t.xp6(1),t.Q6J("ngForOf",null==e.websiteMultiCtrl?null:e.websiteMultiCtrl.value)}}const Jt=[{path:"",component:D},{path:"create",component:q},{path:"create/:id",component:q,resolve:{detail:Z.H}},{path:"view/:id",component:(()=>{class o{constructor(e,n,a,s,c){this._activeRoute=e,this.formBuilder=n,this._save=a,this._service=s,this.dialog=c,this.websiteMultiCtrl=new l.NI,this.websiteMultiFilterCtrl=new l.NI,this.filteredWebsitesMulti=new At.t(1),this.selectedIndex2=0,this.selectedIndex3=0,this.currentPageIndex=1,this._onDestroy=new L.x,this.categoryForm=this.formBuilder.group({list:this.formBuilder.array([])})}ngOnInit(){this.catId=this._activeRoute.snapshot.paramMap.get("id"),this.category=this._activeRoute.snapshot.data.detail.category}expandSub1(e){this.category.subcategory[e].isExpand=!this.category.subcategory[e].isExpand}addSub4(e,n){this.selectedIndex2=e,this.selectedIndex3=n,this.currentPageIndex=2,this.addNewSub(),this.getTypeList()}subs(){return this.categoryForm.get("list")}addNewSub(){this.subs().push(this.formBuilder.group({name:["",l.kI.required]}))}getTypeList(){this._service.getTypeList().subscribe(e=>{console.log(e),this.types=e.types,this.websiteMultiCtrl.setValue(this.types[1]),this.filteredWebsitesMulti.next(this.types.slice()),this.websiteMultiFilterCtrl.valueChanges.pipe((0,u.R)(this._onDestroy)).subscribe(()=>{this.filterWebsiteMulti()})})}ngOnDestroy(){this._onDestroy.complete()}setInitialValue(){this.filteredWebsitesMulti.pipe((0,k.q)(1),(0,u.R)(this._onDestroy)).subscribe(()=>{this.multiSelect.compareWith=(e,n)=>e&&n&&e.name===n.categoryId})}filterWebsiteMulti(){if(!this.types)return;let e=this.websiteMultiFilterCtrl.value;e?(e=e.toLowerCase(),this.filteredWebsitesMulti.next(this.types.filter(n=>n.name.toLowerCase().indexOf(e)>-1))):this.filteredWebsitesMulti.next(this.types.slice())}onSave(){var e;this.category.subcategory[this.selectedIndex2].list[this.selectedIndex3].list=this.categoryForm.value.list.map(n=>n.name),this.category.subcategory[this.selectedIndex2].list[this.selectedIndex3].type=null===(e=this.websiteMultiCtrl)||void 0===e?void 0:e.value.map(n=>n.typeId),this._save.onSaveCategory(this.category,this.catId).subscribe(n=>{console.log(n)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(S.gz),t.Y36(l.qu),t.Y36(J.m),t.Y36(I.m),t.Y36(w.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-view-category"]],viewQuery:function(e,n){if(1&e&&t.Gf(Zt,7),2&e){let a;t.iGM(a=t.CRH())&&(n.multiSelect=a.first)}},decls:2,vars:2,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutAlign","start center",1,"main-wrapper"],["fxLayout","column","fxLayoutAlign","start start",1,"location-form"],[1,"mat-title"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center center"],["mat-icon-button","",3,"click"],[1,"mat-subheading-1",2,"margin-bottom","0"],["mat-list-icon",""],["mat-line",""],["fxLayout","row"],[1,"route__path--name"],[1,"arrow"],[1,"route__path--name","active"],["fxLayout","row","fxLayoutAlign","space-between center",2,"width","100%","margin-top","14px"],["type","button","mat-icon-button","","aria-label","Add button","color","primary",3,"click"],[3,"formGroup"],["formArrayName","list"],["fxLayout","column","fxLayoutAlign","start center",1,"main-wrapper",2,"margin-top","20px"],["fxLayout","column","fxLayoutAlign","start center",1,"main-wrapper",2,"margin-top","30px"],["fxLayout","row","fxLayoutAlign","end end",1,"location-form"],["mat-flat-button","","color","accent",2,"margin-right","10px"],["mat-flat-button","","color","primary",3,"click"],["appearance","outline"],["matInput","","type","text","placeholder","Name","formControlName","name","name","name","required",""],["placeholder","Type","multiple","",3,"formControl"],["multiSelect",""],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.YNc(0,wt,6,2,"ng-container",0),t.YNc(1,Pt,34,7,"ng-container",0)),2&e&&(t.Q6J("ngIf",1==n.currentPageIndex),t.xp6(1),t.Q6J("ngIf",2==n.currentPageIndex))},directives:[h.O5,b.xw,b.Wh,h.sg,f.lW,d.Hw,y.i$,y.Tg,y.Nh,x.X2,l._Y,l.JL,l.sg,l.CE,_.KE,v.Nt,l.Fj,l.JJ,l.u,l.Q7,_.TO,Q.d,T.gD,l.oH,x.ey,dt],pipes:[h.Ov],styles:[".location-form[_ngcontent-%COMP%]{width:600px}.mat-list-item[_ngcontent-%COMP%]{color:#898888}span.route__path--name[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#484848}span.arrow[_ngcontent-%COMP%]{margin:0 10px}span.route__path--name.active[_ngcontent-%COMP%]{color:var(--primary-button);text-decoration:underline}.mat-form-field[_ngcontent-%COMP%]{width:100%;margin-right:20px}form[_ngcontent-%COMP%]{width:100%}"]}),o})(),resolve:{detail:Z.H}}];let Qt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[Z.H],imports:[[h.ez,S.Bz.forChild(Jt),_t,Ct.C,l.u5,l.UX]]}),o})()}}]);